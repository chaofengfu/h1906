2020-06-08
	方案一：thymeleaf页面静态化
		1、创建商品详情的thymeleaf模板
		2、创建RabbitMQ消费者，收到消息后生成静态页面（D:/detail/26774635180.html）
		3、搭建nginx服务器，返回静态页面
	方案二：redis
		  a、redis缓存商品详情
			 1、先查询redis，如果有直接返回
			 2、再查询mysql，并把查询结果装到redis中再返回

		  b、如何保证redis不满？redis中都是热点商品？
			设置商品的实现时间：86400

		 c、怎么保存商品信息（数据类型）？
			ITEM_INFO:123456:BASE
			ITEM_INFO:123456:DESC
			ITEM_INFO:123456:PARAM
	
	缓存穿透：
		缓存穿透是指<font color=red>缓存和数据库中都没有数据</font>，
		而用户不断发起请求则这些<font color=red>请求会穿过缓存直接访问数据库</font>，
		如发起为id为“-1”的数据或id为特别大不存在的数据。假如有恶意攻击，就可以利用这个漏洞，
		对数据库造成压力，甚至压垮数据库。
	解决方法：缓存空对象，并设置过期时间
	缓存击穿：
		缓存击穿，是指一个key非常热点，在不停的扛着大并发，大并发集中<font color=red>对这一个key不停进行访问，
		当这个key在失效的瞬间，持续的大并发就穿破缓存，直接请求数据库</font>
	解决方法：设置热点数据永不过期或加分布式锁